# !/usr/bin/env python
# -*-coding:utf-8-*-
import os
from PyQt4 import QtGui, QtCore
from PIL import Image
from PIL.ImageQt import ImageQt
import database, drawing
from datetime import date, time, datetime

class QLabelDrawing(QtGui.QLabel):
    """
    Class to show the drawing, 
    display the grid, groups, dipoles, etc
    and interact with it
    It contains:
    - text (in case no pixmap)
    - drawing_pixMap : the pixamp with no scaling
    - width_scale : the width of the image to show (depending on the zoom)
    - height_scale : the height of the image to show (depending on the zoom)
    """
    def __init__(self):
       super(QLabelDrawing, self).__init__()
       my_font = QtGui.QFont("Comic Sans MS", 20)
       self.setText('No drawings corresponding to this entry')
       self.setFont(my_font)
       self.setAlignment(QtCore.Qt.AlignCenter)
       self.setContentsMargins(0, 0, 0, 0)
       self.setMinimumWidth(300)
       self.width_scale = 1000
       self.height_scale = 1000
       self.drawing_pixMap = QtGui.QPixmap()
       self.setPixmap( self.drawing_pixMap)

       directory = "/home/sabrinabct/Projets/DigiSun_2018/archdrawing"
       filename = 
       img = Image.open(os.path.join(directory, filename))qim = ImageQt(pilimage) #convert PIL image to a PIL.ImageQt object
       self.drawing_pixMap = QtGui.QPixmap.fromImage(qim)
       print(self.drawing_pixMap)
       self.setPixmap(self.drawing_pixMap.scaled(int(self.width_scale),
                                                 int(self.height_scale),
                                                 QtCore.Qt.KeepAspectRatio))
       
       print(self.pixmap())
